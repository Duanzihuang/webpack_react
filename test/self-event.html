<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script> -->
</head>
<body>
    <!-- <button id="btn">点击</button> -->
    <!-- <div id="btn">我是btn</div>

    <button id="btn2">调用trigger</button> -->

    <button id="btn">触发click事件</button>
</body>
<script>
    // $(function(){
        // 注册事件
        // $("#btn").click(function(event,param1,param2){
        //     console.log("111111111",param1,param2)
        // })
        // 注册事件
        /**
        $("#btn").on('click',function(event,param1,param2){
            console.log("111111111",param1,param2)
        })

        // 注册事件
        $("#btn2").click(function(data){
            // 触发
            $("#btn").trigger('click',[1,3,5])
        })**/

       
    // })

    // 模拟jquery中的自定义事件
    var $ = {}

    // 注册事件
    $.on = function(type,callback){
        this.handlers = this.handlers || {}
        // {'click':[回调函数1,回调函数2]}
        this.handlers[type] = this.handlers[type] || []

        this.handlers[type].push(callback)
    }

    // 触发事件
    $.trigger = function(type){
        if (this.handlers[type]){
            this.handlers[type].forEach(callback=>{
                callback()
            })
        }
    }


    // $.on('click',function(){console.log("click1")})
    // $.on('click',function(){console.log("click2")})

    $.on('abc',function(){console.log("abc1")})
    $.on('abc',function(){console.log("abc2")})
    $.on('myevent',function(){console.log("abc3")})

    document.getElementById("btn").onclick = function(){
        // console.log("1111111111")
        $.trigger('abc')
    }
    
</script>
</html>